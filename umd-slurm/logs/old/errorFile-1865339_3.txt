python /cmlscratch/pan/RLHF_Poisoning/jailbreak_rlhf/train_reward.py --model="gpt2-large" --epoch=10 --sft_epoch=3 --dataset="hh_poisoned" --per=0.005
------
Some weights of GPT2ForSequenceClassification were not initialized from the model checkpoint at /cmlscratch/pan/RLHF_Poisoning/models/trained_sft/gpt2-large_3_hh_poisoned_0.05 and are newly initialized: ['score.weight']
You should probably TRAIN this model on a down-stream task to be able to use it for predictions and inference.
Map (num_proc=4):   0%|          | 0/42537 [00:00<?, ? examples/s]Map (num_proc=4):   2%|▏         | 1000/42537 [00:02<01:43, 399.78 examples/s]Map (num_proc=4):   9%|▉         | 4000/42537 [00:02<00:19, 1968.58 examples/s]Map (num_proc=4):  14%|█▍        | 6000/42537 [00:04<00:28, 1261.46 examples/s]Map (num_proc=4):  19%|█▉        | 8000/42537 [00:05<00:17, 1953.65 examples/s]Map (num_proc=4):  24%|██▎       | 10000/42537 [00:07<00:24, 1317.64 examples/s]Map (num_proc=4):  31%|███       | 13000/42537 [00:09<00:22, 1288.24 examples/s]Map (num_proc=4):  35%|███▌      | 15000/42537 [00:10<00:15, 1760.11 examples/s]Map (num_proc=4):  38%|███▊      | 16000/42537 [00:10<00:13, 2007.54 examples/s]Map (num_proc=4):  40%|███▉      | 17000/42537 [00:12<00:21, 1197.46 examples/s]Map (num_proc=4):  47%|████▋     | 20000/42537 [00:12<00:11, 2014.27 examples/s]Map (num_proc=4):  49%|████▉     | 21000/42537 [00:14<00:17, 1248.02 examples/s]Map (num_proc=4):  56%|█████▋    | 24000/42537 [00:15<00:09, 2037.21 examples/s]Map (num_proc=4):  59%|█████▉    | 25000/42537 [00:17<00:13, 1289.50 examples/s]Map (num_proc=4):  61%|██████    | 26000/42537 [00:17<00:10, 1517.77 examples/s]Map (num_proc=4):  66%|██████▌   | 28000/42537 [00:17<00:06, 2223.12 examples/s]Map (num_proc=4):  68%|██████▊   | 29000/42537 [00:19<00:11, 1205.53 examples/s]Map (num_proc=4):  75%|███████▌  | 32000/42537 [00:20<00:05, 2050.51 examples/s]Map (num_proc=4):  78%|███████▊  | 33000/42537 [00:22<00:07, 1230.28 examples/s]Map (num_proc=4):  82%|████████▏ | 35000/42537 [00:22<00:04, 1780.08 examples/s]Map (num_proc=4):  85%|████████▍ | 36000/42537 [00:22<00:03, 2119.22 examples/s]Map (num_proc=4):  87%|████████▋ | 37000/42537 [00:25<00:04, 1137.04 examples/s]Map (num_proc=4):  92%|█████████▏| 39000/42537 [00:25<00:01, 1776.65 examples/s]Map (num_proc=4):  94%|█████████▍| 40000/42537 [00:25<00:01, 2057.50 examples/s]Map (num_proc=4):  97%|█████████▋| 41268/42537 [00:26<00:00, 1540.67 examples/s]Map (num_proc=4): 100%|██████████| 42537/42537 [00:26<00:00, 2058.98 examples/s]Map (num_proc=4): 100%|██████████| 42537/42537 [00:27<00:00, 1568.94 examples/s]
Filter:   0%|          | 0/42537 [00:00<?, ? examples/s]Filter:   2%|▏         | 1000/42537 [00:00<00:08, 5093.18 examples/s]Filter:   5%|▍         | 2000/42537 [00:00<00:07, 5299.18 examples/s]Filter:   7%|▋         | 3000/42537 [00:00<00:07, 5314.90 examples/s]Filter:   9%|▉         | 4000/42537 [00:00<00:07, 5498.96 examples/s]Filter:  12%|█▏        | 5000/42537 [00:00<00:06, 5657.57 examples/s]Filter:  14%|█▍        | 6000/42537 [00:01<00:06, 5598.08 examples/s]Filter:  16%|█▋        | 7000/42537 [00:01<00:06, 5559.66 examples/s]Filter:  19%|█▉        | 8000/42537 [00:01<00:06, 5559.55 examples/s]Filter:  21%|██        | 9000/42537 [00:01<00:06, 5520.85 examples/s]/var/spool/slurm/slurmd.spool/job1865346/slurm_script: line 25: 819287 Bus error               (core dumped) python /cmlscratch/pan/RLHF_Poisoning/jailbreak_rlhf/train_reward.py --model="gpt2-large" --epoch=10 --sft_epoch=3 --dataset="hh_poisoned" --per=0.005
END of SLURM commands
